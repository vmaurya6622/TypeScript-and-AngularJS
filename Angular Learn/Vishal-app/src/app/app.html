<div class="container">
	<div class = "left">
		<h3>Hello {{ name.toUpperCase() }}</h3>

		<pre class="output">{{ myfunc() }}</pre>



		<a
			href="https://www.ciena.com"
			target="_blank"
			rel="noopener noreferrer"
			(mouseenter)="changename()"
			(mouseleave)="reversename()"
		>
			Click to visit Ciena!
		</a>

		<h3>Template Reference Variables</h3>
		<div class="toolbar">
			<input
				#box
				type="number"
				placeholder="Enter a number to see magic: "
				(input)="current = box.value"
			/>

			<button (click)="read(box.value)">Submit value</button>
			<!-- to read the value of input box when button is clicked -->
			<button (click)="box.focus()">Focus input</button>
			<!-- to focus on input box when button is clicked -->
			<pre class="output" *ngIf="loopOutput">{{ loopOutput }}</pre>
			<span style="margin-left: 8px; color: #666"> length={{ box.value.length || 0 }} </span>
		</div>
		<p>Current: {{ current || '(empty)' }}</p>
		<!-- if the variable inside it is empty then show (empty) -->

		<button (click)="toggleUser()">Toggle user</button>
		<p>Email: {{ user?.profile?.email ?? 'Initially None' }}</p>
			<!-- it reads email only if user and profile is defined otherwise whole expression is undefined -->
		<p></p>
		<!--Fallback: || '(none)' shows a placeholder when the expression is falsy;
			prefer ?? when you want to treat 0 or empty strings as valid.
			
			Toggle: Clicking "Toggle user" alternates user between undefined and an object to demonstrate safe access.
			Nullish coalescing (??): Use a ?? b over a || b when you want to keep valid falsy values like 0 or ''.
		-->

		<p>Name: {{ user?.name ?? '(no name)' }}</p> 
		<p>Mobile: {{ user?.mobile ?? '(no mobile)' }}</p>
		<p>Email: {{ user?.profile?.email ?? '(no email)' }}</p>
		<p>Age: {{ user?.profile?.age ?? '(no age)' }}</p>

		<!-- ======================   Directives	=========================== -->

		<div></div>
		<button (click)="ok = !ok">Toggle</button>
		<!-- inhere har click par ok ki value true false hoti rhegi
			ok === true  "ok" wala <div> DOM me aata hai
			ok === false "not ok" wala template dikhta hai -->
		<div></div>
		<div *ngIf="ok; else other">ok</div>
		<ng-template #other> not ok </ng-template>

		<!-- Now understanding ngFor -->

		<h3>All Items</h3>
		<ol>
			<li *ngFor="let item of items; trackBy: trackByFn">
				{{ item }}
			</li>
		</ol>

		<h3>First Item</h3>
		<ol>
			<ng-container *ngFor="let item of items; let f = first">
				<li *ngIf="f">{{ item }}</li>
			</ng-container>
		</ol>

		<h3>Last Item</h3>
		<ol>
			<ng-container *ngFor="let item of items; let l = last">
				<li *ngIf="l">{{ item }}</li>
			</ng-container>
		</ol>

		<h3>Even Items</h3>
		<ol>
			<ng-container *ngFor="let item of items; let e = even">
				<li *ngIf="e">{{ item }}</li>
			</ng-container>
		</ol>

		<h3>Odd Items</h3>
		<ol>
			<ng-container *ngFor="let item of items; let o = odd">
				<li *ngIf="o">{{ item }}</li>
			</ng-container>
		</ol>

		<!-- ======================   End of Directives	=========================== -->

		<!-- Now Heading to ngTemplate -->

		<h3>ngTemplateOutlet Demo</h3>
		<label>
			Selection:
		<select (change)="alertType = $any($event.target).value">
				<option value="info">information idhar hai</option>
				<option value="warning">warning mil gai</option>
				<option value="success">success ho gaya</option>
			</select>
		</label>

		<br /><br />

		<label>
			Message:
			<input [value]="alertMsg" (input)="alertMsg = $any($event.target).value" />
		</label>

		<br /><br />

		<!-- Template renderer -->
		<ng-container
			[ngTemplateOutlet]="
				alertType === 'info' ? infoTpl : alertType === 'warning' ? warnTpl : successTpl
			"
			[ngTemplateOutletContext]="{ $implicit: alertMsg }" 
		><!-- ngTemplateOutletContext: passes the value into the template.  -->
		</ng-container>

		<!-- Templates -->
		<ng-template #infoTpl let-text>
			<p style="color: rgb(10, 28, 194)">ℹ️ Info: {{ text }}</p>
		</ng-template>

		<ng-template #warnTpl let-text>
			<p style="color: darkorange">⚠️ Warning: {{ text }}</p>
		</ng-template>

		<ng-template #successTpl let-text>
			<p style="color: rgb(46, 139, 87)">✅ Success: {{ text }}</p>
		</ng-template>

		<!-- ====================== End ngTemplateOutlet ====================== -->

		<!-- now heading towards angular template statements and $event -->
		<h3>Angular Template Statements and $event:</h3>
		<button (click)="counterForTemplateStatements = counterForTemplateStatements + 1">Template statements clicker</button>
		<p>Counter value: {{ counterForTemplateStatements }}</p>

		<!-- Now i am doing $event-->
		<button (click)="increment()">Event clicker</button>
		<p></p>
		<p>This is Printing counterForEvent: {{ counterForEvent }}</p>	
		<input
			placeholder="Type"
			[value]="textForEvent"
			(input)="updateText($any($event.target).value)"
		/>
		<p>This is Printing textForEvent: {{textForEvent}}</p>

		<!-- now we are going to learn as alias with ngIf -->

		<button (click)="toggleUserDetails()">Toggle User Details</button>
		<p *ngIf="userDetails as u;else empty">
			Hello to the user {{ u.name }}, age {{ u.age }}
		</p>
		<ng-template #empty>
			<p>No user details available.</p>
		</ng-template>

		<!-- now next topic is pipes(|) -->
		<h3>Pipes in Angular</h3>
		<p>Original String: {{ sampleString }}</p>

		<!-- these are some of the predefined pipes -->
		<p>Lowercase: {{ sampleString | uppercase }}</p>
		<p>Amount in USD: {{ amountInINR | currency:'' }}</p>
		<p>Today: {{ currentDate | date:'yyyy-MM-dd' }}</p>
		<p>Chained: {{ ratio | percent:'1.0-0'}}</p>


		<!-- Now we are going to learn attribute binding	-->
		<h3>Attribute Binding in Angular</h3>
		<button [attr.aria-label]="label"
				(click)="toggle()">Toggle Button</button>
		<table border="2" style="margin-top:8px">
			<tr><th>A</th><th>B</th><th>C</th></tr>
			<tr><td [attr.colspan]="wide ? 2 : 1">Row 1</td><td>Cell</td><td>Cell</td></tr>
		</table>
		<table border="1" style="margin-top:10px">
			<tr>
				<th>Attribute</th>
				<th>Value</th>
			</tr>
			<tr>
				<td>aria-label</td>
				<td>{{ label }}</td>
			</tr>
		</table>
	
		<!-- Now we are going to learn attribute binding	-->
		<h3>Attribute Binding in Angular</h3>
		<button [attr.aria-label]="label"
				(click)="toggle()">Toggle Button</button>
		<table border="2" style="margin-top:8px">
			<tr><th>A</th><th>B</th><th>C</th></tr>
			<tr><td [attr.colspan]="wide ? 2 : 1">Row 1</td><td>Cell</td><td>Cell</td></tr>
		</table>
		<table border="1" style="margin-top:10px">
			<tr>
				<th>Attribute</th>
				<th>Value</th>
			</tr>
			<tr>
				<td>aria-label</td>
				<td>{{ label }}</td>
			</tr>
		</table>

		<!-- Track By -->
		<button (click)="shuffle()">Shuffle</button>

		<ol>
			<li *ngFor="let it of itemms; trackBy: trackById"> <!--  trackby helps to prevent recreation of DOM elements of list -->
				{{ it.id }} - {{ it.name }}
			</li>
		</ol>
		
		<!-- Parent component  @Input wala-->
		<!-- <hello-comp [name]="userName"></hello-comp> -->

		<!-- @Output wala -->
		
		<hello-comp 
			[step]="1" 
			(clicked)="onChildClicked($event)">
			<h3>Component Projection (ng-content)</h3>
			<p>Hello World</p>
			<button>Click Me</button>
		</hello-comp>
		</div>
		<div class="right">
		<!-- Angular events -->
		<h3>Angular Events</h3>
		<input
			placeholder="Type here"
			(input)="onInput($event)"
			(keyup)="addvalues()"    
			(keydown)="lastKey = $any($event).key">  <!-- .k means activated only when k is pressed, .enter is when enter is pressed. -->
		<p>Value is : {{count}}</p>
		<p>Last key pressed: {{lastKey}}</p>
		<p>Counter value: {{ctr}}</p>

		<!-- Debounced Input -->
		<h3>Debounced Input</h3>
		<input type="text" placeholder="Type here for debounced input" (input)="onDebouncedInput($event)" />
		<p> Immediate:{{immediate}}</p>
		<p>Debounced (400ms): {{debounced}}</p>

		<!-- Angular conditionals -->
		<h3>Angular Conditionals</h3>
		
	</div>
</div>